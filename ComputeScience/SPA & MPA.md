## SSR VS CSR

![Image](https://github.com/user-attachments/assets/17b99269-18c9-47c3-affb-691ec3b114f4)

1.	초기 로딩 속도가 SSR이 더 빠른 이유
- SSR은 서버가 HTML을 완성해서 보내기 때문에, 클라이언트가 따로 데이터를 요청할 필요 없음
- CSR은 클라이언트가 API를 호출해서 데이터를 가져와야 함, 초기 로딩 속도 느림

2.	CSR의 페이지 전환 속도가 더 빠른 이유는 무엇인가?
- SSR은 사용자가 페이지 이동 시, 새 HTML을 서버에서 받음(전체를 갈아낌)
- CSR은 초기 HTML을 한 번 로드하고, 이후에는 JS가 페이지를 변경
    - React-router를 이용한 페이지 이동 처리
    - 기존 HTML 유지, 필요한 데이터만 가져와 동적으로 화면 변경
- 그렇다면, 당연히 HTML 구조가 상이한 경우가 궁금해짐(SPA에서도 모든 HTML을 다시 잡아야 하는 것 아닌가??)
    - SPA에서는 컴포넌트 기반 아키텍처를 사용하기 떄문에, 공통 부분 유지, 변경 부분 동적 교체 방식으로 최적화 가능
    - 물론 완전히 다른 HTML 구조를 가져야 한다면 기존 내용을 다 지우고 다시 렌더링 해야함
        - 이 와중에도 기존 프레임워크 내부에서 최적화된 방식으로 렌더링


3.	왜 SPA에는 CSR을, MPA에는 SSR을 권장하는가?
- MPA는 각각의 페이지가 개별적인 HTML 파일로 존재
- SPA는 한 개의 HTML 파일에서 JS가 페이지 전환을 처리
    - 페이지 이동 시 전체 화면이 새로고침 되지 않음, UX가 훨씬 좋다..

4.	그렇다면 CSR에서 가장 많이 쓰이는 기술은 무엇인가?
- React, Vue, Angular
![Image](https://github.com/user-attachments/assets/c0db29bf-6671-4de9-b400-aec6c48423a5)

5.	Vue가 React보다 학습 난이도가 낮은 이유?
- HTML 파일에서 <script>, <style>, <template>를 쓰는 방식
    - React는 JSX를 사용해야 하므로, 적응하는데 시간이 걸림
- Vue는 기본적으로 상태 관리 기능 포함
    - React는 Recoil 등을 추가 해야함
- Vue는 파일 구조와 컴포넌트 구조가 직관적
    - React는 자유도가 높음(숙련자용)
    - Vue는 컴포넌트 스타일이 명확함, 처음 배우는 사람이 이해하기 쉬움

6.	우리가 현재 JSP를 사용하고 있는 이유가 무엇일까?
- JSTL을 활용한 템플릿 엔진(HTML 같은 템플릿 파일 기반, 동적 콘텐츠 생성)역할 수행
- 현재 JSP에 비즈니스 로직이 들어가 있진 않음, 단순 템플릿 엔진의 역할이 크다고 보는게 맞는 듯

7.	그렇다면, 그냥 단순 템플릿 엔진의 역할을 한다면, Spring Boot와 잘 어울리는 Thymeleaf를 사용하는 것은 어떨까?
- 이 질문에 대한 답을 하려면, JSP와 Thymeleaf의 차이점을 알아야 함(같은 SSR임에도 불구하고, 타임리프가 JSP보다 가볍다고 하는 이유는 무엇일까??)
    - JSP는 서블릿으로 변환되어 실행(JSP -> 서블릿 -> HTML 변환)
        - 실행 전 변환 오버헤드
        - Thymeleaf는 서블릿 변환 과정 X
            - 서버에서 동적으로 전체 HTML을 생성하지 않고, HTML은 유지한 채 필요 데이터만 API를 통해 데이터 삽입 후 클라이언트에게 반환
    - JSP는 WAR 패키징 필요(JSP, 서블릿, .jar, 정적 파일 등)
        - Tomcat 등의 서블릿 컨테이너 필요
            - Tomcat이 .war 파일을 실행하며 JSP 파일을 서블릿으로 변환 & 실행
        - Spring Boot는 내장 Tomcat 사용, JSP 실행 시 추가적 설정 요망
            - Thymeleaf는 JAR 실행 가능
        - 반면 Thymelaf는 Spring Boot와 자연스럽게 통합
    - Thymelaf는 순수 HTML 파일
        - JSP는 HTML과 Java 코드 혼합 가능성 존재
        - Thymeleaf는 순수 HTML 기반
        - 유지보수 및 프론트와의 협업 유리

8.	그렇다면, 처음 페이지 로딩 시 부하는 동일할까? 지속 사용 시 차이가 나는 것인가?
- 처음 로딩 시에도 JSP는 서블릿 변환(+컴파일) 과정이 있기 때문에 약간 차이가 날 수는 있음
    - 또한, 매 요청마다 서블릿 실행, 서버 부하 누적 가능
    - 물론 JSP가 서블릿으로 캐싱, 같은 JSP 재요청 시 변환 과정은 생략되긴 함
        - 다만, JSP 수정 발생 시 다시 컴파일 해야 함.
    - Thymeleaf는 템플릿 캐싱과 최적화된 렌더링으로 더 빠르고 효율적

9.	근데 결국, 우리 팀의 프로젝트 특성상 FE와 BE가 따로 구분되어 있지 않고, 어차피 트래픽이 적어서 서버에 부하가 크지 않다면, JSP를 사용하는 것이 전혀 문제될 것이 없는 것 아닌가? 또한 WAR 패키징 또한 SpringBoot를 사용하고 있기 때문에 문제없지 않나?
- JSP 서블릿 변환 과정이 있긴 하지만, 트래픽이 적기 때문에 괜찮을 듯
    - 동시 요청이 많을 때는 문제가 생길 수 있지만… 최대 사용자 수는 정해져 있으니, 부하 테스트 정도는 해볼 수 있지 않을까?
- 패키징 방식 또한 Spring Boot에서 지원
    - Spring-boot-starter-web 사용
- 모놀리식 아키텍쳐에서는 오히려 JSP가 효율적일 수 있음
- 다만 다음과 같은 문제는 생각해보자
    - 코드가 방대해질수록 유지보수가 어려울 수 있음
        - JSTL, EL 표현식 등이 섞임
        - 템플릿 구조(재사용성을 높이는)가 필요해진다면 JSP만으로는 한계가 있음
            - Ex) 여러 페이지에서 공통으로 쓰는 header/footer
    - Spring Boot에서는 JSP보다 Thymeleaf를 기본적으로 권장
    - 현재는 트래픽이 적어서 괜찮지만, 추후 분리 가능성을 생각해 본다면?
        - JSP는 점점 사장되는 추세인 것은 사실임
        - 미래의 유지보수나 확장성을 고려해, 개선 방향을 고민해보자.

10.	그렇다면, SSR에서 CSR로 바꿔야할 당위성은 있는가?
- 페이지 전환 속도가 느린가?
    - 잘 모르겠음 아닌 것 같은데..
    - 애초에 트래픽도 적고, data는 잘 모르겠음
- SEO가 필요 없는가?
    - ㅇㅇ 내부 시스템임
- 데이터 갱신이 잦은가?
    - 대시보드, 실시간 데이터, 자동 새로고침이 필요한가?
        - 아직 세부로직을 잘 몰라가..
        - 실시간 데이터는 왜 CSR에서 더 유리한가?(어차피 비동기면 똑같이 AJAX를 이용할텐데)
![Image](https://github.com/user-attachments/assets/590dc0e5-9eed-4082-acbc-a0c441e9cbb7)

![Image](https://github.com/user-attachments/assets/d717967d-3eca-4788-a543-fa99a556eecb)

![Image](https://github.com/user-attachments/assets/0a60ca2e-a507-4773-a32b-74000c994c59)


    - React/Vue는 Virtual DOM을 사용, 변경된 부분만 렌더링
        - DOM 조작이 필요 없음
    - SSR처럼 기존 HTML을 찾아서 바꾸는 방식이 없고, 데이터 변경 시 자동으로 UI 업데이트
- FE와 BE가 완전히 분리될 계획이 있는가?
    - 당장은 없지만, 언젠가 분리되어야 하지 않을까?
        - 아닌가?
- 유지보수 & 개발 편의성이 중요한가?
    - 오히려 차부장급 선임분들이 많기 때문에, 변환이 유지보수 & 편의성에서 안 좋은 상황
    - 언제가 변환점이 될 것인가..?

결론: 이것저것 잘 따져보았을 때, 현재 인원에게 더 익숙한 방식으로 남겨놓는 것이 운영&유지보수에 훨씬 효율적이라는 생각이 든다. 신규 프로젝트에서도, 추후 BE와 FE가 분리될 가능성이 있는지??? 에 대해 잘 따져보도록 하자. 결국 내가 장기 근속이 된다면, 언젠가 변환점은 올 것이다.
