
## 웹 애플리케이션 아키텍쳐
![image](https://user-images.githubusercontent.com/102513932/193807845-a16d947a-f163-4984-befb-eaac6bce9dd8.png)

- 웹 애플리케이션
  - 웹 브라우저에서 이용할 수 있는 응용 소프트웨어
    - 막대한 트래픽에 노출될 수 있음
      - 신뢰성, 확장성, 보안성, 견고성 고려 요망
- 웹 애플리케이션 특징
  - 데스크탑 애플리케이션 처럼 상호작용 가능
  - 특정 기능 가짐 (ex 정보검색)
  - 정보나 자료 등의 콘텐츠 관리 시스템과 함께 작동
  - website는 정적 페이지들의 집합체, 웹사이트가 동적 페이지를 포함하게 된다면 web application이 된다.
- 웹 애플리케이션 아키텍쳐
  - 응용 프로그램의 구성 요소 간의 상호 작용을 유지하는 소프트웨어를 구조화 한 것
    - 클라이언트 - 서버 간의 연결에 대한 설명 방법
    - 어떻게 애플리케이션 내부의 요소들이 상호간에 소통하는지 설명
    - 애플리케이션의 다양한 요소
      - 브라우저, 유저 인터페이스, 미들웨어, 서버, 데이터베이스
    - 이러한 요소들이 상호작용 할 수 있도록 결부시키는 뼈대

## 웹 애플리케이션의 요청 흐름

- ```https://urclass.codestates.com```으로 접속 시
  - 1. 브라우저에 ```https://urclass.codestates.com```입력
  - 2. 브라우저는 서버의 주소를 찾기 위해 DNS 서버에 요청을 보냄
  - 3. IP 주소를 찾으면 해당 주소에 HTTPS 요청을 보냄
    - 이미 기록이 캐시 메모리에 있으면 주소를 캐시 메모리에서 가져옴
  - 4. 웹 서버에 요청 도착
  - 5. 웹 서버는 저장소에 요청을 보내 페이지 관련 데이터들을 가져옴
  - 6. 정보들을 가져오는 중에 비지니스 로직이 작용함
  - 7. 비즈니스 로직들은 각 데이터들을 어떻게 다룰지 정해짐
  - 8. 로직들을 통해 요청 받은 데이터들이 처리됨, 브라우저에 응답합
  - 9. 요청들이 브라우저에 응답으로 돌아왔을 때, 웹 페이지 화면에서 출력됨.
  - 모든 애플리케이션은 client-side와 server-side로 동작
    - client-side
      - 유저의 입력에 따라 브라우저에서 작동
      - 주로 HTML, CSS, JavaScript의 언어를 조합해 개발 진행
      - 개발되는 코드는 브라우저에 의해 분석되어 처리
      - 서버와의 소통은 HTTP 요청을 통해 이루어짐
    - server-side
      - HTTP 요청에 따라 서버에서 요청 처리
      - Java, Python, JavaScript, C#, PHP등 서버 사이드에서 실행 가능하고 HTTP 요청에 응답할 수 있는 언어들 사용
- ### 웹 애플리케이션의 요소들
  - 유저 인터페이스 요소
    - 유저 경험과 관련된 요소들
    - 화면 출력, 로그, 알림, 시스템 통계, 환경 설정 등 웹 애플리케이션의 기능적 부분 외적인 요소들
  - 구조 요소
    - 웹 애플리케이션 기능의 기능적 부분 담당
    - 유저와 상호작용, 제어, 데이터베이스 등에 관련된 요소
    - 웹 애플리케이션의 전체적인 구조 담당
    - 웹 브라우저, 클라이언트, 웹 애플리케이션 서버, 데이터베이스로 구성
- ### 웹 애플리케이션의 3단계 계층 구조
  - ![image](https://user-images.githubusercontent.com/102513932/193816771-dbf0e90f-e285-4ec4-8789-c3494a914e85.png)
  - #### Presentation Layer
    - 브라우저등을 이용해 유저와 직접적으로 접촉. 
    - Web Server가 이 영역에 포함, 유저 인터페이스 요소들 포함.
  - #### Application Layer
    - Business Layer, Business Logic 혹은 Domain Logic 이라고 불리기도 함
    - 유저의 요청을 브라우저로부터 받아 처리를 함.
    - Application Server가 이 계층에 포함
    - 데이터 접근을 위한 경로를 규격화 하는 등의 과정이 작성됨
  - #### Data access layer
    - Persistence layer이라고 불리기도 함
    - 애플리케이션의 데이터 저장소에 접근, 데이터를 불러 오거나 저장을 담당
    - Application Layer의 로직들이 데이터베이스에 접근하여 데이터 회수 및 저장하는 구조를 최적화
  - Cross-cutting
    - 보안, 통신, 운영 관리등을 위한 요소
  - Third-party integrations
    -  제 3의 API 서비스를 이용하는 것을 의미
    -  EX) OAuth 2.0을 이용한 소셜 로그인, PG사를 이용한 결재기능 등
  
## 웹 애플리케이션의 구현
### 웹 애플리케이션 구현방식
#### Single Page Application
![2022-10-04 21;36;38](https://user-images.githubusercontent.com/102513932/193821264-dc566f08-134b-4b28-b4e2-89370609ec81.gif)
- 유저의 입력과 요청에 의한 콘텐츠, 정보의 최신화가 페이지를 새로 불러오지 않고 현재 페이지에서 이루어 짐
  - 요청한 응답을 기다리며 페이지와 상호작용 가능
- 필수적 요소만을 요청, 페이지 새로 고침을 방지하여 유저 경험 극대화
- AJAX, Asynchronous JavaScript, XML 주로 사용

#### [AJAX](Web%20Apllication/AJAX.md)

#### Microservice architecture
- 작은 서비스 여러개가 모여 하나의 시스템을 제공하는 아키텍쳐
  - 각 애플리케이션의 기능 요소들은 상호간에 의존적으로 설계되지 않음
    - 개발단계에서, 개발 완성 이후로 같은 개발 언어를 사용할 필요가 없음
    - 기능 개발의 유연성, 개발 과정의 전반적인 속도와 생산성 향상
  - 서비스간 통신방법 어려움, 테스트 어려움, 통합적인 유지관리 어려움

#### Serverless Architecture
- 개발자가 웹 애플리케이션의 서버와 기타 기반 기능들에 대해 외부의 제 3자인 클라우드 서비스 제공자에게 의탁하는 방식
  - 개발자가 기본적인 서버나 기반 기능들에 걱정할 필요 없이 특정기능 개발에 집중할 수 있게 함
  - 유지보수 어려움

### 웹 애플리케이션 구현 기술

#### HTTP
![image](https://user-images.githubusercontent.com/102513932/193823223-1aa05664-240a-4c01-b186-eefa8b02d030.png)
- HTTP(HyperText Transfer Protocol)
  - 웹 브라우저상에서 클라이언트와 서버간의 통신을 담당하는 프로토콜
  - 클라이언트의 데이터 요창과 서버에서의 요청에 대한 응답을 반복하며 웹 애플리케이션을 작동시킴
  - 요청에 하고싶은 처리의 종류를 나타내는 메서드의 이름, 처리 대상의 이름 포함
  - 응답에 요청에 대한 처리 결과를 나타내는 상태 코드, 헤더, 실제 처리결과인 메시지 포함
  - 대용량 이미지, 음성, 영상, 파일 데이터 등 거의 모든 방식의 데이터 전송을 HTTP를 이용해 처리
  
#### Cookie 와 Session
- HTTP는 데이터를 요청하고 요청에 대한 응답을 전송하는 무상태성의 프로토콜
  - 무상태성을 지니기 때문에 이를 보완할 수 있는 기능 필요
- 쿠키
  - 유저의 정보를 클라이언트에 보관
  - 다음 접속부터 클라이언트가 유저의 정보를 서버로 보내서 유저를 서버가 식별하게 함.
  - 쿠키에 담긴 내용으로 다음 접속에도 이어서 같은 방식으로 작동하게 도와줌.
- 세션
  - 서버에 Session-ID라는 고유 아이디 할당으로 유저 식별
  - 유출되면 안되는 정보는 서버에서 관리하며 세션 ID와 매칭하여 저장해 관리
  - 세션정보는 주로 쿠키에서 관리, 실제 매칭되는 값들은 서버 측에서 관리하는 것이 일반적

#### 사용자 인증
- 고유 아이디와 암호 뿐 아니라, 개인의 신원또한 파악하는 다요소 인증(MFA)가 보안의 필수 요소가 됨.
  - 은행같이 더 높은 수준의 보안을 요구하는 서비스는 OTP를 사용하기도 함.
  - 혹은 urclass 인증과 같이 OAuth 방식을 이용, 서비스 자격증명 매커니즘을 제 3의 서비스에 위임해 인증.



## CORS
- [CORS(Cross-Origin Resource Sharing)](https://developer.mozilla.org/ko/docs/Web/HTTP/CORS)
  - 보안 상의 이유로, 브라우저는 스크림트에서 시작한 교차 출처 HTTP 요청을 제한함
    - 웹 애플리케이션은 자신의 출처와 동일한 리소스만 불러올 수 있음
    - 다른 출처의 리소스를 불러오려면 그 출처에서 올바른 CORS 헤더를 포함한 응답을 반환해야 함
  - CORS 체제는 브라우저와 서버 간의 안전한 교차 출처 요청 및 데이터 전송을 지원
    - 최신 브라우저는 `XMLHttpRequest` 또는 `Fetch` 같은 API에서 CORS를 사용하여 교차 출처 HTTP 요청의 위험을 완화함
  - ![image](https://user-images.githubusercontent.com/102513932/194309637-0bd0756e-d1b5-4ba3-a15c-0c2d526b635a.png)
    - 위 Image는 같은 도메인에 GET request를 보내니 아무 문제 없음
    - 아래 image는 domain-b에 요청을 하기 때문에 CORS가 전송됨 

### Simple request
### preflighted request
### redirect
- 위 3개 추후에 다시 정리할 것.. ㅠㅠ



1. 코딩테스트
2. 프로젝트
3. 공모전, 대외활동
4. 기업 인적성 (삼성,엘지,sk,..)
5. 영어 (토스, 오픽)
6. 자격증 (정보처리기사, sqld, 리눅스마스터,..)
7. CS공부 (면접 대비)
8. 자소서 (지원동기, 회사에 대한 관심도 등..)