# 공통 컴포넌트 정리 (v1.2, 2025-09-11)

---

## 목차
1. [백엔드 공통 컴포넌트](#백엔드-공통-컴포넌트)
2. [프론트엔드 공통 컴포넌트](#프론트엔드-공통-컴포넌트)
3. [백엔드 기술 구성요소(1)](#백엔드-기술-구성요소1)
4. [백엔드 기술 구성요소(2)](#백엔드-기술-구성요소2)

---

## 백엔드 공통 컴포넌트

### 1) Web MVC 설정
- **역할**: 정적 리소스 매핑, 인터셉터 체인 구성  
- **클래스**: `WebConfiguration`

### 2) 로그인 인터셉터
- **역할**: 세션 기반 인증/화이트리스트 처리  
- **클래스**: `LoginInterceptor`

### 3) 분산 추적 필터
- **역할**: Trace-Id 주입, 필터 순서 관리  
- **클래스**: `FilterConfig`, `SleuthFilter`, `AngleBracketSanitizeFilter`

### 4) AOP 접근 로깅
- **역할**: 컨트롤러 진입 로깅
- **클래스**: `LoggingAop`

### 5) 전역 예외 처리
- **역할**: 일관된 에러 응답(JSON/JSP 분기)  
- **클래스**: `ItmsExceptionHandler`

### 7) 도메인 예외
- **역할**: 메시지 코드 기반 예외 처리
- **클래스**: `MessageException`, `JsonMessageException`, `Message`

### 8) API 응답 표준
- **역할**: 공통 Response 바디  
- **클래스**: `ApiResponse`

### 9) 세션
- **역할**: 세션 정보, 세션 생성/재생성/속성 접근  
- **클래스**: `SessionVO`, `SessionUtil`

### 10) OAuth 통합(옵션)
- **역할**: Google OAuth 인증/토큰/프로필  
- **클래스**: `GoogleOAuthHelper`

### 11) 암호화 유틸
- **역할**: AES 암복호화/키 파생  
- **클래스**: `AESUtil`

### 12) 공통 유틸
- **역할**: 문자열/숫자/날짜/공통 헬퍼  
- **클래스**: `CommonUtil`, `StrUtil`, `NumUtil`, `DateUtil`

### 13) DB 유틸
- **역할**: 결과 매핑
- **클래스**: `ResultMap`

### 14) 파일 업/다운로드(선택)
- **역할**: 업로드/메타/다운로드 처리  
- **클래스**: `UploadService`, `UploadController`, `UploadMapper`

### 15) 엑셀 처리(선택)
- **역할**: 템플릿 업/다운, 검증  
- **클래스**: `ExcelService`, `ExcelController`, `ExcelMapper`

### 16) 스케줄러(선택)
- **역할**: 배치/크론/히스토리  
- **클래스**: `SchedulerConfiguration`

### 17) MyBatis 전역 설정
- **역할**: 설정/공통 ResultMap 템플릿  
- **클래스**: `mybatis-config`

### 18) 에러 페이지 처리
- **역할**: HTTP 에러 라우팅/뷰  
- **클래스**: `WebErrorController`, `error.jsp`, `error.html`

### 19) 프로파일/설정 관리
- **역할**: 환경별 설정 분리  
- **클래스**: `application.yml`, `application-{profile}.yml`

### 20) Request/Response DTO 규약(신규)
- **역할**: 입력 검증/버전 관리/페이지 규격  
- **클래스**: `*Request`, `*Response`

### 21) Mapper 계층(MapStruct)(신규)
- **역할**: DTO↔Entity 자동 매핑  
- **클래스**: `UserMapper`, `GlobalMapperConfig`

### 22) 검증/정규화 유틸(신규)
- **역할**: 입력값 정규화/XSS 사전 보정  
- **클래스**: `ValidationUtil`, `SanitizerUtil`

### 23) 보안 보강(신규)
- **역할**: CORS/CSRF/보안 헤더/Rate Limit  
- **클래스**: `SecurityConfig`

### 24) API 문서화(신규)
- **역할**: OpenAPI 스펙/Swagger UI  
- **클래스**: `OpenApiConfig`

### 25) JPA 통합(신규)
- **역할**: ORM 기반 데이터 접근, 엔티티 매핑, 트랜잭션 관리  
- **클래스/구성**:  
  - `spring-boot-starter-data-jpa`  
  - `Entity`, `Repository`, `JpaConfig`  
  - 필요 시 QueryDSL, Criteria API 확장  

---

## 프론트엔드 공통 컴포넌트

### 1) CSS/테마/아이콘
- **역할**: 기본 스타일/레이아웃/테마/아이콘  
- **클래스**: `basic.css`, `main.css`, `blue-color.css`, `green-color.css`, `orange-color.css`,  
  `jquery-ui.css`, `jquery-ui.theme.css`, `jquery-ui.theme_blue-color.css`, `jquery-ui.theme_green-color.css`, `jquery-ui.theme_orange-color.css`,  
  `xeicon.min.css`, `xeicon.*`, `images/**`

### 2) 폰트
- **역할**: 한글 가독/가변 굵기/아이콘  
- **클래스**: `Pretendard (Thin~Black)`, `xeicon.*`

### 3) jQuery 세트
- **역할**: DOM/AJAX/위젯  
- **클래스**: `jquery-3.7.1`, `jquery-ui-1.13.2`

### 4) 공통 AJAX/유틸
- **역할**: 표준 AJAX/에러/세션/도우미  
- **클래스**: `ajaxCommon.js`, `ajaxCommonNoSession.js`, `common.js`, `util.js`, `module.js`,  
  `moment.js`, `es6-promise.auto.min.js`, `html5.js`, `zipcd.js`

### 5) 모달/컨펌
- **역할**: 알림/확인 UI  
- **클래스**: `jquery-confirm.min.js`, `jquery-confirm.min.css`

### 6) jqGrid (옵션)
- **역할**: 테이블/페이징 UI  
- **클래스**: `jqGrid-4.7.0/**`, `jqGridCommon.js`

### 7) SheetJS / xlsx-js-style
- **역할**: 엑셀 읽기·쓰기·스타일  
- **클래스**: `xlsx.full.min.js (SheetJS 0.20.1)`, `xlsx.min.js (xlsx-js-style 1.2.0)`,  
  `excelUtil.js`, `jspToExcel.jsp`

### 8) 문서 뷰어 (옵션)
- **역할**: PDF/TIFF 프리뷰  
- **클래스**: `pdf.js`, `pdf.js.map`, `pdf_pagenavi.js`,  
  `tiff.js`, `tiff.min.js`, `pdfView.jsp`

### 9) 공통 JSP 팝업
- **역할**: 조직/직원/WG 선택  
- **클래스**: `commonEmpPopup.jsp`, `commonOrgPopup.jsp`, `commonEmpWorkingGroupPopup.jsp`

### 10) JSP→엑셀 템플릿
- **역할**: JSP 테이블 → XLSX  
- **클래스**: `jspToExcel.jsp`

### 11) 공통 레이아웃/헤더/GNB
- **역할**: 전역 리소스 로딩/공통 헤더/네비게이션  
- **클래스**: `header.jsp`, `gnb.js`

### 12) 에러 페이지 (정적)
- **역할**: 404/5xx  
- **클래스**: `error404.html`, `error500.html`, `error5xx.html`

### 13) 차트 (옵션)
- **역할**: 데이터 시각화  
- **클래스**: `Chart.min.js`

### 14) 파일 업로드 공통 JSP
- **역할**: 단건/다건/TD 업로드 폼  
- **클래스**: `uploadForm.jsp`, `uploadSingleForm.jsp`, `uploadTdForm.jsp`

### 15) 공통 JSP 조각 (옵션)
- **역할**: 결재선/공통 인클루드  
- **클래스**: `appLine.jsp`

---

## 백엔드 기술 구성요소(1)

| 구분 | 아티팩트/구성 | 버전/비고 |
|---|---|---|
| JDK | Java | 17 |
| 런타임 | Spring Boot | 3.2.7, 패키징: WAR(내장 Tomcat 제거, 외부 WAS 배포) |
| Web | spring-boot-starter-web | 3.2.7 (Spring MVC + Jackson) |
| JSP | tomcat-embed-jasper, JSTL | jakarta.servlet.jsp-api:3.1.1, jakarta.servlet:6.0.0, jakarta.servlet.jsp.jstl:3.0.0/3.0.1 |
| AOP | spring-boot-starter-aop | AspectJ runtime |
| Validation | spring-boot-starter-validation | Jakarta Validation 3.x 기반 |
| DB | MyBatis Spring Boot Starter | 3.0.3 |
| DB | Spring Data JPA | spring-boot-starter-data-jpa (Hibernate 6.x) |
| JDBC | ojdbc8, orai18n | 로컬 JAR(libs/**) 사용 |
| 로깅 | log4j-core, log4jdbc-log4j2 | SQL 로깅 포함 |
| DTO/빌더 | Lombok | compileOnly + annotationProcessor |
| 매핑 | MapStruct | 1.5.3.Final (로컬 JAR) + lombok-mapstruct-binding |
| Util | Gson 2.10.1, Guava 33.0.0-jre |  |
| Dev | spring-boot-devtools | 개발 편의 |
| Test | spring-boot-starter-test, JUnit Platform | Gradle useJUnitPlatform() |
| 보안 | owasp-java-html-sanitizer | 안전한 HTML 정화 (XSS 방지용 라이브러리) |

---

## 백엔드 기술 구성요소(2)

| 구성요소 | 서비스 그룹 | 서비스 명 | 적용기술 |
|---|---|---|---|
| 실행환경 | 언어 | JDK | Java 17 |
| 실행환경 | 런타임 | Spring Boot | 3.2.7, WAR 패키징(내장 Tomcat 제거, 외부 WAS 배포) |
| 화면처리 | Web | Spring Web | spring-boot-starter-web 3.2.7 (Spring MVC + Jackson) |
| 화면처리 | JSP | JSP/JSTL | tomcat-embed-jasper, jakarta.servlet.jsp-api 3.1.1, jakarta.servlet 6.0.0, jakarta.servlet.jsp.jstl 3.0.0/3.0.1 |
| 공통기반 | AOP | AspectJ | spring-boot-starter-aop |
| 업무처리 | Validation | Bean Validation | spring-boot-starter-validation (Jakarta Validation 3.x) |
| 데이터처리 | Data Access | MyBatis | mybatis-spring-boot-starter 3.0.3 |
| 데이터처리 | Data Access | JPA/Hibernate | spring-boot-starter-data-jpa (Hibernate 6.x, Spring Data JPA Repository 지원) |
| 데이터처리 | JDBC | Oracle JDBC | ojdbc8-21.9.0.0.jar, orai18n.jar (libs/) |
| 실행환경 | 로깅 | Logging | log4j-core, log4jdbc-log4j2 (SQL 로깅 포함) |
| 개발환경 | DTO/빌더 | Lombok | compileOnly + annotationProcessor |
| 개발환경 | 매핑 | MapStruct | 1.5.3.Final (로컬 JAR) + lombok-mapstruct-binding |
| 공통기반 | Util | Gson/Guava | Gson 2.10.1, Guava 33.0.0-jre |
| 개발환경 | Dev | DevTools | spring-boot-devtools (개발 편의) |
| 개발환경 | Test | JUnit/Test | spring-boot-starter-test, JUnit Platform (Gradle useJUnitPlatform) |
| 보안 | Sanitizer | HTML Sanitizer | owasp-java-html-sanitizer (XSS 방지) |

---
