## HTTPS
- ![image](https://user-images.githubusercontent.com/102513932/202365016-aba80f61-ac80-4b6d-9651-2692473befd4.png)
  - 대부분의 웹사이트는 `HTTPS` 사용, 웹 브라우저에서 쉽게 확인 가능
- HTTPS
  - Hyper Text Transfer Protocol Secure Socket layer
    - HTTP over SSL(TLS), HTTP over Secure
    - HTTP 요청을 SSL 혹은 TLS 알고리즘을 이용해 데이터를 암호화하여 전송하는 방법
      - 서버와 클라이언트 간 CA를 통해 서버를 인증하는 과정과 데이터를 암호화하는 과정을 아우른 프로토콜을 TLS 또는 SSL이라 지칭
        - SSL과 TLS는 사실상 동일한 규악, SSL이 표준화하며 바뀐 이름이 TLS 

## 암호화
- 제 3자가 서버와 클라이언트가 주고받는 정보를 탈취할 수 없도록 함
  - HTTP는 요청 및 응답 탈취 시 데이터를 그대로 확인할 수 있음
    - HTTP 사용 시 (와이어샤크 이용)
      - ![image](https://user-images.githubusercontent.com/102513932/202365508-9fcddf0a-aee9-40a7-8991-629b5475749c.png)
    - HTTPS 사용 시 (와이어샤크 이용)
      - ![image](https://user-images.githubusercontent.com/102513932/202365614-cf495e19-30cf-4c3e-981e-3442b9b7cc71.png)
        - 암호화되어 전송되기 때문에 정확한 키로 복호화 하기 전까지는 어떤 내용인지 알 수 없음
  - HTTPS는 암호화를 위해 비대칭키 방식과 대칭키 방식을 혼용해 사용
- 대칭키 방식
  - 양쪽이 공통의 비밀 키를 공유하여 데이터를 암호화 및 복호화
### 비대칭키 방식
  - 각각 공개키와 비밀키를 가짐
    - 상대가 나의 공개키로 암호화한 데이터를 개인이 가진 비밀키로 복호화함
- 클라이언트와 서버가 데이터를 주고받을 때는 대칭키를 사용함
  - 비대칭키 알고리즘은 대칭키 알고리즘보다 훨씬 복잡함
    - 대칭키를 사용하여 암호화 및 복호화 하는 것이 컴퓨터에 부담을 덜 줄 수 있음
  - 만약 대칭키를 주고받는 과정에서 정보가 탈취된다면?
    - 암호화를 하든 안 하든 모든 데이터가 복호화 가능하게 될 것임
    - 따라서 HTTPS는 대칭키를 주고받을 때 **비대칭키 방식**으로 주고받음
      - 공개키로 암호화한 정보는 개인이 가진 비밀키로만 풀 수 있으므로 대칭키가 탈취되더라도 개인키가 없이는 복호화 할 수 없음
- 즉, HTTPS는 대칭키와 비대칭키 **방식**을 이용해 데이터를 암호화함
## 인증서
- HTTPS에서는 서버의 응답과 함께 전달된 인증서를 확인할 수 있음
  - 인증서는 서버의 신원을 보증하여 접속한 사이트가 진짜 사이트임을 보장함
- 이를 보증할 수 있는 제 3자를 Certificate Authority, CA라 지칭
  - CA는 인증서를 발급해주는 공인 기관들을 칭함
  - CA들은 서버의 공개키와 정보를 CA의 비밀키로 암호화하여 인증서를 발급함
- 즉, 인증서가 CA의 비밀키로 안호화되어 있으므로 CA의 공개키로 복호화 가능, 따라서 해당 CA에서 발급한 인증서라는 것을 보증 가능
### 인증서 인증 과정
- 서버가 클라이언트에게 CA에서 발급받은 인증서 전달
- 클라이언트는 OS 또는 브라우저에 미리 내장되어 있던 CA 리스트를 확인
- 브라우저에서 인증된 CA에서 발급받은 인정서인지 확인
- 인증된 CA에서 발급한 인증서가 아니라면 경고창을 통해 연결이 안전하지 않다는 것을 표시
  - ![image](https://user-images.githubusercontent.com/102513932/202367434-f4812665-7deb-4e1a-897f-8e19a02d9cb8.png)\
- 인증된 CA에서 발급한 인증서가 확인되었따면, 브라우저에서 제공된 해당 CA 기관의 공개키로 서버 인증서를 복호화함
  - CA의 비밀키로 인증서 암호화 -> CA의 공개키로 복호화
- 복호화 성공 시 서버 신뢰 가능 (인증서 위조X)
